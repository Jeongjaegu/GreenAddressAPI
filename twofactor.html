

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>twofactor module &mdash; GreenAddress API  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="GreenAddress API  documentation" href="index.html"/>
        <link rel="up" title="WebSocket WAMP API calls" href="apicalls.html"/>
        <link rel="next" title="txs module" href="txs.html"/>
        <link rel="prev" title="pin module" href="pin.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> GreenAddress API
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="examples.html">Usage examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="apicalls.html">WebSocket WAMP API calls</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="addressbook.html">addressbook module</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html">login module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pin.html">pin module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">twofactor module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#proxies">proxies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="txs.html">txs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="vault.html">vault module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="notifications.html">WebSocket WAMP notifications</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">GreenAddress API</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="apicalls.html">WebSocket WAMP API calls</a> &raquo;</li>
      
    <li>twofactor module</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="twofactor-module">
<h1>twofactor module<a class="headerlink" href="#twofactor-module" title="Permalink to this headline">¶</a></h1>
<p>The Two Factor Authentication (2FA) is an important piece of your GreenAddress wallet security.</p>
<p>When 2FA is active (mandatory by default from our clients) for some funds/auth related operations on the
GreenAddress API, the user is requested to verify themselves with a One Time Password.</p>
<p>OTP are handled by different methods, and whenever it is needed to set up a 2FA while another 2FA is active
(i.e., setting a new SMS 2FA, confirming it with the email OTP) a proxy method is called.</p>
<div class="section" id="proxies">
<h2>proxies<a class="headerlink" href="#proxies" title="Permalink to this headline">¶</a></h2>
<p>In GreenAddress 2FA &#8216;proxies&#8217; allow setting up a 2FA using another 2FA. A &#8216;proxy code&#8217; is another kind of OTP,
valid for 5 minutes, which is used for the sole purpose of enabling a new 2FA method. The &#8216;proxy codes&#8217; are obtained by using
some already set up 2FA method. It was implemented this way to allow the client to authenticate against some existing 2FA
before providing the new 2FA data.</p>
<p>For example, on an account with previously enabled email 2FA, the steps to enable SMS 2FA are as follows:</p>
<ul class="simple">
<li>Do a &#8216;request_email&#8217;, specify &#8216;enable_2fa&#8217; as action and {method: &#8216;sms&#8217;} as data - this requests an email authorizing the new 2FA setup.</li>
<li>With the email OTP do a request_proxy, specifying &#8216;sms&#8217; as the new &#8216;method&#8217; and {code: &#8220;799154&#8221;, method: &#8220;email&#8221;} as twofac_data. We assume a proxy OTP &#8216;923039&#8217; is returned. This &#8216;proxy code&#8217; now allows initialising setting up of the new 2FA without providing any code  than the &#8216;proxy code&#8217; internally stored by the client.</li>
<li>Call the init_enable_sms method, with the full intl number as &#8216;number&#8217; and {method: &#8220;proxy&#8221;, code: &#8220;923039&#8221;} as &#8216;twofac_data&#8217;.</li>
<li>Confirm the sms code, once received, with enable_sms method.</li>
</ul>
<p>(To illustrate why proxies are useful: You should be also able to simply set up the new 2FA by providing the first email code as an argument
to init_enable_sms,&nbsp;but then you need to know the phone number at the same time as the code, so you can&#8217;t validate the code provided by
the user separately. This is especially important for user experience because you&#8217;d then have to ask for the second code directly after the &#8216;old method code&#8217; and users could confuse the two codes - asking for &#8216;(1) email code, (2) phone number, (3) sms code&#8217; is better in our opinion than asking for &#8216;(1) phone number, (2) email&nbsp;code, (3) sms code&#8217; which would be the case without proxies - the order with asking for &#8216;phone number preceding the sms code&#8217; seems more natural than &#8216;email code preceding sms code&#8217;.)</p>
<span class="target" id="module-twofactor"></span><p><code class="docutils literal"><span class="pre">com.greenaddress.twofactor</span></code></p>
<blockquote>
<div><dl class="method">
<dt id="activate_email">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">activate_email</code><span class="sig-paren">(</span><em>code</em><span class="sig-paren">)</span><a class="headerlink" href="#activate_email" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Activate email 2FA</div>
<div class="line">Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/WalletCrx/blob/5e79817e8053ddd0d4aa0a4878377e7a9242f84f/static/js/greenwallet/settings/controllers.js#L652">JS Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>code</strong> (<em>String</em>) &#8211; OTP received via email</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">success</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="disable_email">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">disable_email</code><span class="sig-paren">(</span><em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#disable_email" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Disable email two factor authentication.</div>
<div class="line">Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/WalletCrx/blob/5e79817e8053ddd0d4aa0a4878377e7a9242f84f/static/js/greenwallet/settings/controllers.js#L94">JS Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>twofac_data</strong> &#8211; {&#8216;code&#8217;: String (OTP), method: &#8216;String&#8217; (&#8216;email&#8217;, &#8216;gauth&#8217;, &#8216;sms&#8217;, &#8216;phone&#8217;) }</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">success</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="disable_gauth">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">disable_gauth</code><span class="sig-paren">(</span><em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#disable_gauth" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Disable Google Authenticator</div>
<div class="line">Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/WalletCrx/blob/5e79817e8053ddd0d4aa0a4878377e7a9242f84f/static/js/greenwallet/settings/controllers.js#L81">JS Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>twofac_data</strong> (<em>String</em>) &#8211; Gauth OTP</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">success</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="disable_phone">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">disable_phone</code><span class="sig-paren">(</span><em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#disable_phone" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Disable robot phonecall two factor authentication.</div>
<div class="line">Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/WalletCrx/blob/5e79817e8053ddd0d4aa0a4878377e7a9242f84f/static/js/greenwallet/settings/controllers.js#L122">JS Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>twofac_data</strong> &#8211; {&#8216;code&#8217;: String (OTP), method: &#8216;String&#8217; (&#8216;email&#8217;, &#8216;gauth&#8217;, &#8216;sms&#8217;, &#8216;phone&#8217;) }</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">success</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="disable_sms">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">disable_sms</code><span class="sig-paren">(</span><em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#disable_sms" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Disable SMS two factor authentication</div>
<div class="line">Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/WalletCrx/blob/5e79817e8053ddd0d4aa0a4878377e7a9242f84f/static/js/greenwallet/settings/controllers.js#L108">JS Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>twofac_data</strong> &#8211; {&#8216;code&#8217;: String (OTP), method: &#8216;String&#8217; (&#8216;email&#8217;, &#8216;gauth&#8217;, &#8216;sms&#8217;, &#8216;phone&#8217;) }</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">success</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="enable_email">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">enable_email</code><span class="sig-paren">(</span><em>code</em><span class="optional">[</span>, <em>reset_email</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#enable_email" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Enable email two factor authentication on previously set email address.</div>
<div class="line">Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/WalletCrx/blob/5e79817e8053ddd0d4aa0a4878377e7a9242f84f/static/js/greenwallet/settings/controllers.js#L161">JS Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>code</strong> &#8211; If you have another 2FA enabled, would be {&#8216;code&#8217;: String (OTP), &#8216;method&#8217;: String}, else an empty String.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="enable_email_twofac">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">enable_email_twofac</code><span class="sig-paren">(</span><em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#enable_email_twofac" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="enable_gauth">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">enable_gauth</code><span class="sig-paren">(</span><em>code</em>, <em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#enable_gauth" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Enable Google Authenticator two factor authentication</div>
<div class="line">Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/WalletCordova/blob/d74e6856a19788751cba93251b1c30718aaf0a5b/www/greenaddress.it/static/js/greenwallet/settings/controllers.js#L64">JS Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>code</strong> (<em>Number</em>) &#8211; OTP</li>
<li><strong>twofac_data</strong> &#8211; {&#8216;method&#8217;: String, &#8216;code&#8217;: String}</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="enable_phone">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">enable_phone</code><span class="sig-paren">(</span><em>code</em><span class="sig-paren">)</span><a class="headerlink" href="#enable_phone" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Enable robot phone call two factor authentication</div>
<div class="line">Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/WalletCordova/blob/d74e6856a19788751cba93251b1c30718aaf0a5b/www/greenaddress.it/static/js/greenwallet/settings/controllers.js#L227">JS Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>code</strong> (<em>String</em>) &#8211; OTP</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="enable_sms">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">enable_sms</code><span class="sig-paren">(</span><em>code</em><span class="sig-paren">)</span><a class="headerlink" href="#enable_sms" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Enable SMS two factor authentication</div>
<div class="line">Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/WalletCordova/blob/d74e6856a19788751cba93251b1c30718aaf0a5b/www/greenaddress.it/static/js/greenwallet/settings/controllers.js#L195">JS Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>code</strong> (<em>String</em>) &#8211; OTP</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="get_config">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">get_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#get_config" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Get two factor authentication configuration.</div>
<div class="line">Check usage on Github: <a class="reference external" href="asdf">JS Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">{&#8216;any&#8217;: Boolean, &#8216;email&#8217;: Boolean, &#8216;email_addr&#8217;: String, &#8216;email_confirmed&#8217;: Boolean, &#8216;gauth&#8217;: Boolean, &#8216;gauth_url&#8217;: String, &#8216;phone&#8217;: Boolean, &#8216;sms&#8217;: Boolean}</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="init_enable_email">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">init_enable_email</code><span class="sig-paren">(</span><em>email</em>, <em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#init_enable_email" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Initialize the procedure to enable an email based two factor authentication</div>
<div class="line">Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/WalletCordova/blob/d74e6856a19788751cba93251b1c30718aaf0a5b/www/greenaddress.it/static/js/greenwallet/settings/controllers.js#L140">JS Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>email</strong> (<em>String</em>) &#8211; Email address for 2FA</li>
<li><strong>twofac_data</strong> &#8211; Data from already enabled 2fa. i.e. {code: &#8220;123456&#8221;, method: &#8220;sms&#8221;}</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="init_enable_phone">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">init_enable_phone</code><span class="sig-paren">(</span><em>number</em>, <em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#init_enable_phone" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Initialize the procedure to enable a phone bot-call based two factor authentication.</div>
<div class="line">Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/WalletCordova/blob/d74e6856a19788751cba93251b1c30718aaf0a5b/www/greenaddress.it/static/js/greenwallet/settings/controllers.js#L211">JS Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>number</strong> (<em>String</em>) &#8211; Phone number for two factor authentication</li>
<li><strong>twofac_data</strong> &#8211; Data from already enabled 2fa. i.e. {code: &#8220;123456&#8221;, method: &#8220;sms&#8221;}</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="init_enable_sms">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">init_enable_sms</code><span class="sig-paren">(</span><em>number</em>, <em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#init_enable_sms" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Initialize the procedure to enable a SMS based two factor authentication</div>
<div class="line">Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/WalletCordova/blob/d74e6856a19788751cba93251b1c30718aaf0a5b/www/greenaddress.it/static/js/greenwallet/settings/controllers.js#L178">JS Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>number</strong> (<em>String</em>) &#8211; Phone number for two factor authentication</li>
<li><strong>twofac_data</strong> &#8211; Data from already enabled 2fa. i.e. {code: &#8220;799154&#8221;, method: &#8220;email&#8221;}</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="request_email">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">request_email</code><span class="sig-paren">(</span><span class="optional">[</span><em>action</em><span class="optional">]</span><span class="optional">[</span>, <em>data</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#request_email" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Request the OTP via email, valid for the specified action.</div>
<div class="line">Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/WalletCrx/blob/1c995325106ec6b2eeb24b6029444802bf64e225/static/js/greenwallet/services.js#L727">JS Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>action</strong> (<em>String</em>) &#8211; The action you&#8217;re going to execute and authorize with 2FA (i.e. &#8216;send_tx&#8217;)</li>
<li><strong>data</strong> &#8211; </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="request_phone">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">request_phone</code><span class="sig-paren">(</span><span class="optional">[</span><em>action</em><span class="optional">]</span><span class="optional">[</span>, <em>data</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#request_phone" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Request the OTP via robot phone call, valid for the specified action.</div>
<div class="line">Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/WalletCrx/blob/1c995325106ec6b2eeb24b6029444802bf64e225/static/js/greenwallet/services.js#L727">JS Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>action</strong> (<em>String</em>) &#8211; The action you&#8217;re going to execute and authorize with 2FA (i.e. &#8216;send_tx&#8217;)</li>
<li><strong>data</strong> &#8211; </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="request_proxy">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">request_proxy</code><span class="sig-paren">(</span><em>method</em>, <em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#request_proxy" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">In GreenAddress two factor authentication, proxies are used to interact with a 2FA method from another.</div>
<div class="line">Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/WalletCrx/blob/1c995325106ec6b2eeb24b6029444802bf64e225/static/js/greenwallet/settings/controllers.js#L296">JS Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>method</strong> (<em>String</em>) &#8211; Other 2FA method on which the proxy OTP will authorize.</li>
<li><strong>twofac_data</strong> &#8211; Previously used 2fa method: i.e. {&#8216;method&#8217;: &#8216;email&#8217;:, &#8216;code&#8217;: &#8216;123456&#8217;}</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="request_redeposit_proxy">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">request_redeposit_proxy</code><span class="sig-paren">(</span><em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#request_redeposit_proxy" title="Permalink to this definition">¶</a></dt>
<dd><p>In GreenAddress, 2FA codes are not reusable, also if they have a limited validity time, like Google Authenticator. However, for
nLocktime and multiple redeposits in a round, the need of a reusable 2FA code went up, but just for this operation.
redeposit_proxies are, therefore, 2FA codes valid for any number N &gt;= 1 of redeposits, for 300 seconds once the code is sent.</p>
<p>Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/WalletCrx/blob/1c995325106ec6b2eeb24b6029444802bf64e225/static/js/greenwallet/services.js#L745">JS Example</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>twofac_data</strong> &#8211; Data from already enabled 2FA. i.e. {code: &#8220;799154&#8221;, method: &#8220;email&#8221;}</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="request_sms">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">request_sms</code><span class="sig-paren">(</span><span class="optional">[</span><em>action</em><span class="optional">]</span><span class="optional">[</span>, <em>data</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#request_sms" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Request the OTP via SMS, valid for the specified action.</div>
<div class="line">Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/WalletCrx/blob/1c995325106ec6b2eeb24b6029444802bf64e225/static/js/greenwallet/services.js#L727">JS Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>action</strong> (<em>String</em>) &#8211; The action you&#8217;re going to execute and authorize with 2FA (i.e. &#8216;send_tx&#8217;)</li>
<li><strong>data</strong> &#8211; </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="set_email">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">set_email</code><span class="sig-paren">(</span><em>email</em>, <em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#set_email" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Set email address for two factor authentication. Method not available if email 2FA is enabled.</div>
<div class="line">Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/WalletCrx/blob/1c995325106ec6b2eeb24b6029444802bf64e225/static/js/greenwallet/settings/controllers.js#L658">JS Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>email</strong> (<em>string</em>) &#8211; Email address</li>
<li><strong>twofac_data</strong> &#8211; Two factor authorization with another method, if enabled.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div></blockquote>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="txs.html" class="btn btn-neutral float-right" title="txs module" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pin.html" class="btn btn-neutral" title="pin module" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, GreenAddress.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>