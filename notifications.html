

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>WebSocket WAMP notifications &mdash; GreenAddress API  documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="GreenAddress API  documentation" href="index.html"/>
        <link rel="prev" title="vault module" href="vault.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> GreenAddress API</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="examples.html">Usage examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples/login.html">Simple JS login example</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/custom_python_login.html">Simple Python watch-only login example</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/mnemonic_python_login.html">Simple Python full access login example</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/instant_confirmation.html">Handling incoming instant confirmation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="apicalls.html">WebSocket WAMP API calls</a><ul>
<li class="toctree-l2"><a class="reference internal" href="addressbook.html">addressbook module</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html">login module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pin.html">pin module</a></li>
<li class="toctree-l2"><a class="reference internal" href="twofactor.html">twofactor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="txs.html">txs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="vault.html">vault module</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">WebSocket WAMP notifications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#tx-notify">tx_notify</a></li>
<li class="toctree-l2"><a class="reference internal" href="#block-count">block_count</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">GreenAddress API</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>WebSocket WAMP notifications</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="websocket-wamp-notifications">
<h1>WebSocket WAMP notifications<a class="headerlink" href="#websocket-wamp-notifications" title="Permalink to this headline">¶</a></h1>
<p>In this section we describe the subscription methods available with GreenAddress API.
Subscribe them to obtain real time notifications about new relevant events on the blockchain,
which means new blocks, or transactions related to your account.</p>
<p>With Twisted and Autobahn WAMP, you can can bind callbacks on notifications, similarly to what
you did with called methods, (i.e. you may want to iterate on your transactions to determinate
the confirmations, everytime you receive a new block_count notification).</p>
<div class="section" id="tx-notify">
<h2>tx_notify<a class="headerlink" href="#tx-notify" title="Permalink to this headline">¶</a></h2>
<p>Subscribe to <tt class="docutils literal"><span class="pre">http://greenaddressit.com/tx_notify</span></tt> to receive notifications
on each new transaction relevant to currently logged in wallet. The notification
data is of the following format:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
        <span class="n">wallet_id</span><span class="p">:</span> <span class="n">Number</span><span class="p">,</span>
        <span class="n">subaccounts</span><span class="p">:</span> <span class="p">[</span><span class="n">Number</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
        <span class="n">value</span><span class="p">:</span> <span class="n">Number</span><span class="p">,</span>
        <span class="n">txhash</span><span class="p">:</span> <span class="n">String</span>
<span class="p">}</span>
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">txhash</span></tt> contains a hex-encoded hash of the new transaction.</p>
</div>
<div class="section" id="block-count">
<h2>block_count<a class="headerlink" href="#block-count" title="Permalink to this headline">¶</a></h2>
<p>Subscribe to <tt class="docutils literal"><span class="pre">http://greenaddressit.com/block_count</span></tt> to receive notifications
on each new block from the Bitcoin network. The notification data is of the
following format:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
        <span class="n">count</span><span class="p">:</span> <span class="n">Number</span>
<span class="p">}</span>
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">count</span></tt> contains the number of last discovered block.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="vault.html" class="btn btn-neutral" title="vault module"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, GreenAddress.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>